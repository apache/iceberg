<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>RewriteTablePath</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.apache.iceberg.actions, interface: RewriteTablePath">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.iceberg.actions</a></div>
<h1 title="Interface RewriteTablePath" class="title">Interface RewriteTablePath</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="Action.html" title="interface in org.apache.iceberg.actions">Action</a>&lt;<a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a>,<wbr><a href="RewriteTablePath.Result.html" title="interface in org.apache.iceberg.actions">RewriteTablePath.Result</a>&gt;</code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../spark/actions/RewriteTablePathSparkAction.html" title="class in org.apache.iceberg.spark.actions">RewriteTablePathSparkAction</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">RewriteTablePath</span><span class="extends-implements">
extends <a href="Action.html" title="interface in org.apache.iceberg.actions">Action</a>&lt;<a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a>,<wbr><a href="RewriteTablePath.Result.html" title="interface in org.apache.iceberg.actions">RewriteTablePath.Result</a>&gt;</span></div>
<div class="block">An action that rewrites the table's metadata files to a staging directory, replacing all source
 prefixes in absolute paths with a specified target prefix. There are two modes:

 <ul>
   <li><b>Complete copy:</b> Rewrites all metadata files to the staging directory.
   <li><b>Incremental copy:</b> Rewrites a subset of metadata files to the staging directory,
       consisting of metadata files added since a specified start version and/or until end
       version. The start/end version is identified by the name of a metadata.json file, and all
       metadata files added before/after these file are marked for rewrite.
 </ul>

 This action can be used as the starting point to fully or incrementally copy an Iceberg table
 located under the source prefix to the target prefix.

 <p>The action returns the following:

 <ol>
   <li>The name of the latest metadata.json rewritten to staging location. After the files are
       copied, this will be the root of the copied table.
   <li>A 'copy-plan'. This is a list of all files added to the table between startVersion and
       endVersion, including their original and target paths under the target prefix. This list
       covers both original and rewritten files, allowing for copying a functioning version of the
       source table to the target prefix.
 </ol></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="RewriteTablePath.Result.html" class="type-name-link" title="interface in org.apache.iceberg.actions">RewriteTablePath.Result</a></code></div>
<div class="col-last even-row-color">
<div class="block">The action result that contains a summary of the execution.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#endVersion(java.lang.String)" class="member-name-link">endVersion</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endVersion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Last metadata version to rewrite, identified by name of a metadata.json file in the table's
 metadata log.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rewriteLocationPrefix(java.lang.String,java.lang.String)" class="member-name-link">rewriteLocationPrefix</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourcePrefix,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;targetPrefix)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Configure a source prefix that will be replaced by the specified target prefix in all paths</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#stagingLocation(java.lang.String)" class="member-name-link">stagingLocation</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;stagingLocation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Custom staging location.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#startVersion(java.lang.String)" class="member-name-link">startVersion</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;startVersion)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">First metadata version to rewrite, identified by name of a metadata.json file in the table's
 metadata log.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.iceberg.actions.Action">Methods inherited from interface&nbsp;org.apache.iceberg.actions.<a href="Action.html" title="interface in org.apache.iceberg.actions">Action</a></h3>
<code><a href="Action.html#execute()">execute</a>, <a href="Action.html#option(java.lang.String,java.lang.String)">option</a>, <a href="Action.html#options(java.util.Map)">options</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="rewriteLocationPrefix(java.lang.String,java.lang.String)">
<h3>rewriteLocationPrefix</h3>
<div class="member-signature"><span class="return-type"><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></span>&nbsp;<span class="element-name">rewriteLocationPrefix</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourcePrefix,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;targetPrefix)</span></div>
<div class="block">Configure a source prefix that will be replaced by the specified target prefix in all paths</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sourcePrefix</code> - the source prefix to be replaced</dd>
<dd><code>targetPrefix</code> - the target prefix</dd>
<dt>Returns:</dt>
<dd>this for method chaining</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startVersion(java.lang.String)">
<h3>startVersion</h3>
<div class="member-signature"><span class="return-type"><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></span>&nbsp;<span class="element-name">startVersion</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;startVersion)</span></div>
<div class="block">First metadata version to rewrite, identified by name of a metadata.json file in the table's
 metadata log. It is optional, if provided then this action will only rewrite metadata files
 added after this version.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>startVersion</code> - name of a metadata.json file. For example,
     "00001-8893aa9e-f92e-4443-80e7-cfa42238a654.metadata.json".</dd>
<dt>Returns:</dt>
<dd>this for method chaining</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="endVersion(java.lang.String)">
<h3>endVersion</h3>
<div class="member-signature"><span class="return-type"><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></span>&nbsp;<span class="element-name">endVersion</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endVersion)</span></div>
<div class="block">Last metadata version to rewrite, identified by name of a metadata.json file in the table's
 metadata log. It is optional, if provided then this action will only rewrite metadata files
 added before this file, including the file itself.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>endVersion</code> - name of a metadata.json file. For example,
     "00001-8893aa9e-f92e-4443-80e7-cfa42238a654.metadata.json".</dd>
<dt>Returns:</dt>
<dd>this for method chaining</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stagingLocation(java.lang.String)">
<h3>stagingLocation</h3>
<div class="member-signature"><span class="return-type"><a href="RewriteTablePath.html" title="interface in org.apache.iceberg.actions">RewriteTablePath</a></span>&nbsp;<span class="element-name">stagingLocation</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;stagingLocation)</span></div>
<div class="block">Custom staging location. It is optional. By default, staging location is a subdirectory under
 table's metadata directory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>stagingLocation</code> - the staging location</dd>
<dt>Returns:</dt>
<dd>this for method chaining</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
